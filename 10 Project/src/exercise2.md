# Веб-хранилища №1
> Веб-хранилище (Web Storage, DOM-хранилище) - это набор механизмов, которые используются для хранения данных локально в веб-браузере пользователя в виде пары ключ/значение -  это специально отведенное место в браузере похожеt на небольшую БД, в котором можно работать с данными - записывать, читать и удалять их.

## Что такое Local Storage и Session Storage? В чём заключается их различие?

Существуют два основных типа веб-хранилища:
- **localStorage (локальное хранилище)**  позволяет хранить данные для каждого домена в течение неограниченного времени (после закрытия вкладки браузера, самого браузера, перезагрузки компьютера), а точнее пока пользователь самостоятельно не удалит данные.
- **sessionStorage (сессионное хранилище, хранилище сессии)** обслуживает область хранения данных для каждого домена, доступные на протяжении сессии, пока открыт браузер, и даже в том случае, если была осуществлена перезагрузка страницы. Однако закрытие вкладки браузера, самого браузера или перезагрузка компьютера приводит к удалению данных.


|Сравнение| **Local Storage (локальное хранилище)** | **Session Storage (сессионное хранилище)** |
|---|---|---|
|**Время хранения данных**| Хранит данные бессрочно | Хранит данные, пока продолжается текущая сессия  |
|**Доступность данных**| Работает по правилу ограничения домена (same origin policy) т.е. сохранённые данные доступны только для одного источника *Например, данные о пользователе  доступны **из любого окна**, при условии, что вы осуществляется заход под теми же данными (авторизация на сайте) | Работает только **из того же окна**, а изменение вкладки браузера приведет к удалению информации *Используется контекст браузера верхнего уровня, поэтому каждая вкладка браузера хранит уникальные данные|
|**Срок жизни данных**| Не удаляется, очищается только с помощью JavaScript или очистки кэша браузера | Данные удаляются после закрытия вкладки браузера пользователем |
|**Размер**| Объём данных от 5 до 10 Мбайт | Хранит данные объёмом до 5 Мбайт |

* Данные хранятся только локально в браузере пользователя, стандарт HTML5 
*Не поддерживаются старыми браузерами, например, IE 7 и ниже.

## Какие существуют основные методы взаимодействия с localStorage и sessionStorage через консоль в браузере? Как производить сохранение, получение, удаление данных, очистку хранилища?

Для работы с localStorage и sessionStorage доступен одинаковый набор свойств и методов:

    - setItem(key, value) – сохранение пары: добавляет ключ (key) со значением value (если в хранилище уже есть этот ключ, то в этом случае будет просто обновлено его значение);
    - getItem(key) – получает значение по ключу (key);
    - removeItem(key) – удаляет данные с ключом (key);
    - clear() – очищает всё хранилище;
    - key(index) – получает ключ по индексу (в основном используется в операциях перебора);
    - length – количество ключей в хранилище;

## Что такое IndexedDB? Чем этот вид хранилища отличается от описанных выше?

**IndexedDB** – это способ постоянного хранения данных внутри клиентского браузера, другими словами это NOSQL хранилище на стороне клиента; отличается тем, что:

- Хранит практически любые значения по ключам, несколько типов ключей
- Использовать сложнее : нужно создать БД, таблицы и использовать транзакции
- Поддерживает запросы в диапазоне ключей и индексы, транзакции для надёжности
- Позволяет хранить большой объем структурированных данных, даже файлы: 1 ГБ
- Более сложная структура данных и индексирование для эффективного выполнения запросов
- Данные содержаться в виде нативных объектов JavaScript
- Доступ является асинхронным, поэтому он оказывает минимальное влияние на основной поток обработки JS
- Может быть использована для хранения данных на разных доменах 
- БД предназначена для оффлайн приложений, можно совмещать с ServiceWorkers и другими технологиями

## Как можно просмотреть содержимое всех веб-хранилищ в браузере?

Для работы через консоль, в браузере *Google Chrome* необходимо открыть DevTools и перейти на вкладку **"Application"** - на левой панели в разделе **"Storage"** выбрать источник и можно посмотреть какие данные содержатся в хранилищах. В *Mozilla Firefox* вкладка имеет название **"Хранилище"**

![storage](materials/storage.png)